/*C12*/SET SCHEMA PUBLIC
alter table line_item drop constraint FKsy53sq1k04q5fy8f440orm1wf
alter table line_item drop constraint FK237t8tbj9haibqe7wafj4t54x
alter table orderr drop constraint FK3dxi3kixhle9o5quc89rmtu7k
alter table user_roles drop constraint FKj9553ass9uctjrmh0gkqsmv0d
alter table user_roles drop constraint FK7ecyobaa59vxkxckg6t355l86
drop table line_item if exists
drop table orderr if exists
drop table product if exists
drop table role if exists
drop table user if exists
drop table user_roles if exists
create table line_item (id bigint generated by default as identity (start with 1), amount integer not null, price double not null, order_id bigint, product_id bigint, primary key (id))
create table orderr (id bigint generated by default as identity (start with 1), creation_date timestamp, user_id bigint, primary key (id))
create table product (id bigint generated by default as identity (start with 1), creation_date timestamp, name varchar(255), photo varchar(255), price float not null, quantity integer not null, primary key (id))
create table role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table user (id bigint generated by default as identity (start with 1), password varchar(255), username varchar(255), primary key (id))
create table user_roles (users_id bigint not null, roles_id bigint not null)
alter table line_item add constraint FKsy53sq1k04q5fy8f440orm1wf foreign key (order_id) references orderr
alter table line_item add constraint FK237t8tbj9haibqe7wafj4t54x foreign key (product_id) references product
alter table orderr add constraint FK3dxi3kixhle9o5quc89rmtu7k foreign key (user_id) references user
alter table user_roles add constraint FKj9553ass9uctjrmh0gkqsmv0d foreign key (roles_id) references role
alter table user_roles add constraint FK7ecyobaa59vxkxckg6t355l86 foreign key (users_id) references user
INSERT INTO ROLE VALUES(1,'ROLE_ADMIN')
COMMIT
INSERT INTO ROLE VALUES(2,'ROLE_USER')
COMMIT
INSERT INTO PRODUCT VALUES(1,'2017-03-07 02:39:29.287000','pic1','http://finemodernart.com/paintings/4134-kiss.jpg',6.0E0,10)
COMMIT
INSERT INTO PRODUCT VALUES(2,'2017-03-07 02:39:29.302000','pic2',' https://s-media-cache-ak0.pinimg.com/originals/00/4e/2a/004e2aa343b63e80de2e70e842a45f44.jpg',3.0E0,50)
COMMIT
INSERT INTO PRODUCT VALUES(3,'2017-03-07 02:39:29.304000','pic3','http://i6.download.fd.pchome.net/g1/M00/07/05/ooYBAFMm03-IRcJ5AAcb6G_zB_sAABaSgLtVxEABxwA864.jpg',1.5E0,0)
COMMIT
INSERT INTO PRODUCT VALUES(4,'2017-03-07 02:39:29.306000','pic4','http://www.thenewyorkoptimist.com/images/MelissaAyr8.jpg',2.549999952316284E0,15)
COMMIT
INSERT INTO PRODUCT VALUES(5,'2017-03-07 02:39:29.309000','pic5','https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSrYyBTCx7wrr1RL6Pm0XVS4lLRbLuxvWjl7Ef7G6EXZNWk6c9_',4.989999771118164E0,100)
COMMIT
INSERT INTO PRODUCT VALUES(6,'2017-03-07 02:39:29.312000','pic7','http://i.imgur.com/1wYVzIK.jpg',4.989999771118164E0,90)
COMMIT
INSERT INTO PRODUCT VALUES(7,'2017-03-07 02:39:29.316000','pic8','http://artsatthearmory.org/wp-content/uploads/2016/02/Art.jpg',4.989999771118164E0,90)
COMMIT
INSERT INTO USER VALUES(1,'$2a$10$9.e2f4N3iBBiKAqoKVOw7OaIbKe9Lx8bFZNKVuR3g6mLYvgBQmxDq','ovidiu')
INSERT INTO USER_ROLES VALUES(1,1)
INSERT INTO USER_ROLES VALUES(1,2)
COMMIT
INSERT INTO USER VALUES(2,'$2a$10$4oMOeq4DIiJ5mMfF1DeueuSHhlzmMFWlac9hMeKxSzdwnjKtf79Di','beni')
INSERT INTO USER_ROLES VALUES(2,1)
INSERT INTO USER_ROLES VALUES(2,2)
COMMIT
INSERT INTO USER VALUES(3,'$2a$10$H73IYhdh6dlfJP0Qqav5ZeHRvLcuSPirAXy9.m3OZy5q1Dngp4vyC','dan')
INSERT INTO USER_ROLES VALUES(3,1)
INSERT INTO USER_ROLES VALUES(3,2)
COMMIT
INSERT INTO ORDERR VALUES(1,NULL,NULL)
COMMIT
INSERT INTO ORDERR VALUES(2,NULL,NULL)
COMMIT
INSERT INTO LINE_ITEM VALUES(1,0,0.0E0,NULL,2)
COMMIT
INSERT INTO LINE_ITEM VALUES(2,0,0.0E0,NULL,3)
COMMIT
INSERT INTO LINE_ITEM VALUES(3,0,0.0E0,NULL,4)
COMMIT
DELETE FROM ORDERR WHERE ID=2
INSERT INTO ORDERR VALUES(2,NULL,1)
DELETE FROM LINE_ITEM WHERE ID=2
INSERT INTO LINE_ITEM VALUES(2,0,0.0E0,2,3)
DELETE FROM LINE_ITEM WHERE ID=3
INSERT INTO LINE_ITEM VALUES(3,0,0.0E0,2,4)
DELETE FROM ORDERR WHERE ID=1
INSERT INTO ORDERR VALUES(1,NULL,1)
DELETE FROM LINE_ITEM WHERE ID=1
INSERT INTO LINE_ITEM VALUES(1,0,0.0E0,1,2)
COMMIT
INSERT INTO USER VALUES(4,'$2a$10$jWU9if1Q60IuZINSfwZQS.HaC1y6xTrJqXsL/FWGuyJRGtRTWO0/G','asdf')
INSERT INTO USER_ROLES VALUES(4,1)
INSERT INTO USER_ROLES VALUES(4,2)
COMMIT
INSERT INTO LINE_ITEM VALUES(4,0,0.0E0,NULL,NULL)
COMMIT
INSERT INTO ORDERR VALUES(3,NULL,NULL)
COMMIT
DELETE FROM ORDERR WHERE ID=3
INSERT INTO ORDERR VALUES(3,NULL,4)
COMMIT
